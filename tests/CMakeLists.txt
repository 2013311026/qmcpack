SUBDIRS(converter)
SUBDIRS(estimator)
SUBDIRS(io)
SUBDIRS(performance)

IF(QE_BIN)
  MESSAGE(STATUS "QE binary path ${QE_BIN}")
  SUBDIRS(pw2qmcpack)
ENDIF()

message("Adding system tests for QMCPACK")

IF (NOT TEST_MAX_PROCS )
SET ( TEST_MAX_PROCS 16 )
message ("TEST_MAX_PROCS was unset. Set to 16")
ENDIF ()

set(QMCAPP_ERR "")
if((NOT ${TEST_MAX_PROCS}) OR (${TEST_MAX_PROCS} STREQUAL ""))
    set(QMCAPP_ERR "${QMCAPP_ERR}  TEST_MAX_PROCS not set: '${TEST_MAX_PROCS}'\n")
endif()
#
#
if(NOT ${QMCAPP_ERR} STREQUAL "")
    message("${QMCAPP_ERR}  skipping tests")
else()
    INCLUDE( "${qmcpack_SOURCE_DIR}/CMake/macros.cmake" )
    SUBDIRS("heg/heg_14_gamma")
    SUBDIRS("molecules/Li2_STO_ae")
    SUBDIRS("molecules/C2_pp")
    SUBDIRS("molecules/LiH_dimer_ae")
    SUBDIRS("molecules/LiH_dimer_pp")
    SUBDIRS("molecules/H2_orb_opt")
    SUBDIRS("molecules/H4_orb_opt")
    SUBDIRS("molecules/H4_orb_opt_dmc")
    SUBDIRS("molecules/H4_ae")
    SUBDIRS("solids/LiH_solid_1x1x1_pp")
    SUBDIRS("solids/bccH_3x3x3_ae")
    SUBDIRS("solids/bccH_2x2x2_ae")
    SUBDIRS("solids/bccH_1x1x1_ae")
    SUBDIRS("solids/diamondC_1x1x1_pp")
    SUBDIRS("solids/diamondC_2x1x1_pp")
    SUBDIRS("solids/hcpBe_1x1x1_pp")
    SUBDIRS("solids/monoO_1x1x1_pp")
endif()
