\chapter{Features of QMCPACK}
\label{chap:features}
\section{Features in production}
\begin{itemize}
\item Variational Monte Carlo
\item Diffusion Monte Carlo
\item Reptation Monte Carlo
\item Single and multi-determinant Slater Jastrow wavefunctions
\item Wavefunction updates using optimized multi-determinant algorithm of Clark et al.
\item Backflow wavefunctions
\item One, two, and three-body Jastrow factors
\item Excited state calculations via flexible occupancy assignment of Slater determinants
\item All electron and non-local pseudopotential calculations
\item Casula T-moves for variational evaluation of non-local pseudopotentials
\item Wavefunction optimization using the ``linear method'' of Umrigar and co-workers, with arbitrary mix of variance and energy in the objective function
\item Gaussian, Slater, plane-wave and real-space spline basis sets for orbitals
\item Interface and conversion utilities for plane-wave wavefunctions from Quantum Espresso (PWSCF)
\item Interface and conversion utilities for Gaussian-basis wavefunctions from GAMESS
\item Easy extension and interfacing to other electronic structure codes via standardized XML and HDF5 inputs
\item MPI parallelism
\item Fully threaded using OpenMP
\item GPU (CUDA) implementation (limited functionality)
\item HDF5 input/output for large data
\item Nexus: advanced workflow tool to automate all aspects of QMC calculation from initial DFT calculations through to final analysis
\item Analysis tools for minimal environments (perl only) through to python-based with graphs produced via matplotlib.
\end{itemize}

\subsection{Supported GPU features}

\begin{itemize}

  \item VMC, wavefunction optimization, DMC are supported
  \item Periodic and open boundary conditions are fully supported. Mixed boundary conditions are not yet supported.
  \item Wavefunctions:
    \begin{enumerate}
        \item Single Slater determinants with 3D B-spline orbitals. Twist-averaged boundary conditions and complex wavefunctions are fully supported. Gaussian type orbitals are not supported yet.
        \item Mixed basis representation in which orbitals are represented as 1D splines times spherical harmonics in spherical regions (muffin tins) around atoms, and 3D B-splines in the interstitial region.
        \item One-body and two-body Jastrows represented as 1D B-splines are supported.
    \end{enumerate}
  \item Semilocal (nonlocal and local) pseudopotentials, Coulomb interaction (electron-electron, electron-ion) and Model periodic Coulomb (MPC) interaction are all supported.
\end{itemize}

\section{Features in beta test}
This section describes developmental features in QMCPACK that might be ready for production, but require additional testing, features or documentation to be ready for general use. We describe them here because they offer significant benefits and are well tested in specific cases.

\subsection{CPU SoA optimization}
SoA stands for Structure-of-Arrays which is a data layout facilitating vectorization on modern CPUs with wide SIMD units. The SoA optimization \cite{IPCC_SC17} for CPUs significantly boost the performance of QMCPACK. Meanwhile, the memory footprint is dramatically reduced by introducing compute-on-the-fly algorithms. To get all the benefit, compilers support OpenMP 4.0 SIMD are recommended. \textbf{Users should check what we specifically test on cdash/ctest and to make specific requests to expand the functionality that they need.}

SoA code path currently supports:
\begin{itemize}
  \item VMC, wavefunction optimization, DMC, RMC are all supported
  \item Periodic, open and mixed boundary conditions are fully supported.
  \item Wavefunctions:
    \begin{enumerate}
      \item Single and multiple Slater determinants with 3D B-spline orbitals. Twist-averaged boundary conditions and complex wavefunctions are fully supported. Gaussian type orbitals are not supported yet.
      \item Hybrid representation, to be ready soon.
      \item One-body and two-body Jastrows represented as 1D B-splines and three-body Jastrow represented as polynomials are supported.
    \end{enumerate}
  \item Semilocal (nonlocal and local) pseudopotentials, Coulomb interaction (electron-electron, electron-ion) and MPC are all supported.
\end{itemize}
